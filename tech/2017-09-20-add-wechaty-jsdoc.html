<!DOCTYPE HTML>
<html class="no-js" lang="zh-CN">
<!--
//                            _ooOoo_
//                           o8888888o
//                           88" . "88
//                           (| -_- |)
//                            O\ = /O
//                        ____/`---'\____
//                      .   ' \\| |// `.
//                       / \\||| : |||// \
//                     / _||||| -:- |||||- \
//                       | | \\\ - /// | |
//                     | \_| ''\---/'' | |
//                      \ .-\__ `-` ___/-. /
//                   ___`. .' /--.--\ `. . __
//                ."" '< `.___\_<|>_/___.' >'"".
//               | | : `- \`.;`\ _ /`;.`/ - ` : | |
//                 \ \ `-. \_ __\ /__ _/ .-` / /
//         ======`-.____`-.___\_____/___.-`____.-'======
//                            `=---='
//                 拦截插件累计拦截逗比攻击"1381438"次！
//         .............................................
//                  佛祖保佑             永无BUG
//          佛曰:
//                  写字楼里写字间，写字间里程序员；
//                  程序人员写程序，又拿程序换酒钱。
//                  酒醒只在网上坐，酒醉还来网下眠；
//                  酒醉酒醒日复日，网上网下年复年。
//                  但愿老死电脑间，不愿鞠躬老板前；
//                  奔驰宝马贵者趣，公交自行程序员。
//                  别人笑我忒疯癫，我笑自己命太贱；
//                  不见满街漂亮妹，哪个归得程序员？
-->
<head><meta name="generator" content="Hexo 3.8.0">
    <!--[if lte IE 9]>
<meta http-equiv="refresh" content="0;url=http://lijiarui.github.io/warn.html">
<![endif]-->
<meta charset="utf-8">

<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="renderer" content="webkit">
<meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
<meta http-equiv="mobile-agent" content="format=html5; url=http://lijiarui.github.io">
<meta name="author" content="Li jiarui">
<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/SimpleStyle.min.css">

<link rel="shortcut icon" href="/images/favicon.png">


<title>using jsdoc to sync the doc with the latest code - 李佳芮de博客</title>

<meta name="keywords" content="chatbot, 技术博客, 聊天机器人, 人工智能, 创业">

<meta name="description " content="JSDoc&#39;s purpose is to document the API of your JavaScript application or library. It is assumed that you will want to document things like modules, namespaces, classes, methods, method parameters, and so on.">
</head>
<body>
<div id="nav">
    <nav class="nav-menu">
        <a class="site-name current" href="/" title="芮">芮</a>
        <a class="site-index current" href="/"><i class="fa fa-home"></i><span>首页</span></a>
        <a href="/archives" title="归档"><i class="fa fa-archives"></i><span>归档</span></a>
        <a href="/tags" title="标签"><i class="fa fa-tags"></i><span>标签</span></a>
        <!-- custom single page of menus -->
        
        
        <a href="/about" title="关于本站">
            <i class="fa fa-user"></i>
            <span>关于本站</span>
        </a>
        
    </nav>
</div>

<div class="nav-user">
    <a class="btn-search" href="#"><i class="fa fa-search"></i></a>
    <a class="btn-read-mode" href="#"><i class="fa fa-sun-o"></i></a>
    <a class="btn-sns-qr" href="javascript:"><i class="fa fa-telegram"></i></a>
</div>

<div id="wrapper" class="clearfix">
    <div id="body">
        <div class="main" id="main">
            <div id="cover">
    <div class="cover-img"></div>
    <div class="cover-info">
        
        <h1 class="cover-siteName">李佳芮の博客</h1>
        <h3 class="cover-siteTitle">时间看得见</h3>
        <p class="cover-siteDesc">一个现实的理想主义者</p>
        <div class="cover-sns">
            
            <div class="btn btn-weibo">
                <a href="https://weibo.com/u/2175505900?refer_flag=1001030101_" target="_blank" title="weibo" ref="friend">
                    <i class="fa fa-weibo"></i>
                </a>
            </div>
            
            <div class="btn btn-weixin">
                <a href="http://blog.botorange.com" target="_blank" title="weixin" ref="friend">
                    <i class="fa fa-weixin"></i>
                </a>
            </div>
            
            <div class="btn btn-github">
                <a href="https://github.com/lijiarui" target="_blank" title="github" ref="friend">
                    <i class="fa fa-github"></i>
                </a>
            </div>
            
            <div class="btn btn-telegram">
                <a href="https://www.jianshu.com/u/ac5aaa7ad293" target="_blank" title="telegram" ref="friend">
                    <i class="fa fa-telegram"></i>
                </a>
            </div>
            
        </div>
    </div>
</div>
            <div class="page-title">
    <ul>
        <li><a href="/">最新</a></li>
        
            
                <li class="">
                    <a href="/categories/chatbot" data-name="chatbot">chatbot</a>
                </li>
            
                <li class="">
                    <a href="/categories/project" data-name="project">project</a>
                </li>
            
                <li class="">
                    <a href="/categories/presentation" data-name="presentation">presentation</a>
                </li>
            
                <li class="">
                    <a href="/categories/thought" data-name="thought">thought</a>
                </li>
            
                <li class="">
                    <a href="/categories/tech" data-name="技术">技术</a>
                </li>
            
                <li class="">
                    <a href="/categories/reading" data-name="读书">读书</a>
                </li>
            
        
        <li class="page-search">
    <form id="search" class="search-form">
        <label for="s" class="sr-only">请输入关键字</label>
        <input class="search-field" type="text" name="s" placeholder="请输入关键字">
        <button type="submit" class="search-form-submit" title="搜索"><i class="fa fa-search"></i></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="请输入关键词...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(无标题)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
</li>

    </ul>
</div>
<div class="main-inner">
    <article class="post" itemscope="" itemtype="http://schema.org/BlogPosting">
        <div class="post-header">
            <div class="post-author clearfix">
                <a class="avatar fleft" href="https://www.botorange.com" target="_blank">
                    <img width="48" src="/images/avatar.jpg" alt="avatar">
                </a>
                <p><span class="label">作者</span>
                    <a href="https://blog.botorange.com" target="_blank">李佳芮</a>
                    <span title="最后编辑于2017-09-20">2017-09-20</span>
                </p>
                <p>一个现实的理想主义者</p>
            </div>
            <h2 class="post-title">Using Jsdoc to sync the doc with the latest code</h2>
            <div class="post-meta">
                本文总共7413个字 | 您是第<span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span>位看到它们的小伙伴
            </div>
        </div>
        <div class="post-content markdown-body">
            <p>In order to sync the doc with the latest code, it’s best to use <a href="https://github.com/jsdoc3/jsdoc" target="_blank" rel="noopener">jsdoc</a> to describe the API and use <a href="https://github.com/jsdoc2md/jsdoc-to-markdown" target="_blank" rel="noopener">jsdoc-to-markdown</a> to generate markdown format documents to the docs directory.</p>
<p><img src="/img/2017/add-wechaty-jsdoc-automate-all-the-things.jpg" alt="automate all the things"></p>
<p>Yes, we planned to do this for nearly a year… </p>
<p>Thanks to <a href="https://github.com/zixia" target="_blank" rel="noopener">@Huan</a>, <a href="https://github.com/ax4" target="_blank" rel="noopener">@ax4</a>,<a href="https://github.com/hczhcz" target="_blank" rel="noopener">@hczhcz</a>, <a href="https://github.com/kis87988" target="_blank" rel="noopener">@William</a>, by the end of August, we finally convert all the doc to jsdoc. And I’d like to share some jsdoc experience here.</p>
<blockquote>
<p>We need to document them better, not only the public but also the internal modules and methods.<br>Finally we decided to use the classic <a href="http://usejsdoc.org/" title="jsdoc" target="_blank" rel="noopener">jsdoc</a> to embed document in TypeScript, then generate document to <a href="https://github.com/Chatie/wechaty/tree/master/docs" title="docs/" target="_blank" rel="noopener">docs/</a> by <a href="https://github.com/jsdoc2md/jsdoc-to-markdown" title="jsdoc2md" target="_blank" rel="noopener">jsdoc2md</a>.<br>– @Huan said in <a href="https://github.com/Chatie/wechaty/issues/73" title="issue 73" target="_blank" rel="noopener">issue 73</a> in Nov 2016.</p>
</blockquote>
<p>At first, we write the doc in <a href="https://github.com/Chatie/wechaty/wiki" title="wiki" target="_blank" rel="noopener">wiki</a>, and it lasts for nearly a year…..</p>
<p>A lot of developers use wiki to learn wechaty, but the wiki’s performance is not good, it cannot update automatically and doesn’t base on user’s most demand.</p>
<blockquote>
<ul>
<li>some minor fix (such as the different naming <a href="https://github.com/wechaty/wechaty/wiki/API#message-class" target="_blank" rel="noopener">Message Class</a> &amp; <a href="https://github.com/wechaty/wechaty/wiki/API#class-room" target="_blank" rel="noopener">Class Room</a>) </li>
<li>improvement on the formatting, e.g. the level setting of each title </li>
<li>maybe, add an index for better guiding<br>– In Feb 2017, <a href="https://github.com/ax4" target="_blank" rel="noopener">@ax4</a> creat an <a href="https://github.com/Chatie/wechaty/issues/252" title="issue" target="_blank" rel="noopener">issue</a> and expressed his willingness to contribute the document.</li>
</ul>
</blockquote>
<p>I like <a href="https://github.com/ax4" target="_blank" rel="noopener">@ax4</a>‘s idea about the document guide:   </p>
<ul>
<li><strong>First:</strong> Learn the awesome features of Wechaty</li>
<li><strong>Second:</strong> See more advanced functions</li>
<li><strong>Third:</strong> Reach the boundary? Help us develop Wechaty</li>
</ul>
<p>Thanks for <a href="https://github.com/ax4" target="_blank" rel="noopener">@ax4</a>‘s suggestion and we decide to do the doc as soon as possible.</p>
<h1 id="JsDoc-amp-amp-jsdoc2md"><a href="#JsDoc-amp-amp-jsdoc2md" class="headerlink" title="JsDoc &amp;&amp; jsdoc2md"></a>JsDoc &amp;&amp; jsdoc2md</h1><p><a href="http://usejsdoc.org/" target="_blank" rel="noopener">JsDoc</a> is an API documentation generator for Javascript<br><a href="https://github.com/jsdoc2md/jsdoc-to-markdown" target="_blank" rel="noopener">jsdoc-to-markdown</a> is a tool to help developers create markdown API document from jsdoc-commented </p>
<h2 id="JsDoc"><a href="#JsDoc" class="headerlink" title="JsDoc"></a>JsDoc</h2><p>JSDoc’s purpose is to document the API of your JavaScript application or library. It is assumed that you will want to document things like modules, namespaces, classes, methods, method parameters, and so on.</p>
<p>JSDoc comments should generally be placed immediately before the code being documented. Each comment must start with a <code>/**</code> sequence in order to be recognized by the JSDoc parser. Comments beginning with <code>/*</code>, <code>/***</code>, or more than 3 stars will be ignored. This is a feature to allow you to suppress parsing of comment blocks.</p>
<p>The simplest documentation is just a description</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** This is a description of the foo function. */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h4><ul>
<li><a href="http://www.2ality.com/2011/08/jsdoc-intro.html" target="_blank" rel="noopener">jsdoc Introduction</a></li>
<li><a href="http://usejsdoc.org/" target="_blank" rel="noopener">jsdoc English document</a></li>
<li><a href="http://www.css88.com/doc/jsdoc/" target="_blank" rel="noopener">jsdoc Chinese document</a></li>
<li><strong>Document This</strong><br> I use vscode as my editor, and use <a href="https://marketplace.visualstudio.com/items?itemName=joelday.docthis" target="_blank" rel="noopener">Document This</a><br>  “Document This” is a Visual Studio Code extension that automatically generates detailed JSDoc comments for both TypeScript and JavaScript files. You can use Ctrl+Alt+D and again Ctrl+Alt+D to generates documentation for whatever the caret is on or inside of. </li>
</ul>
<h2 id="jsdoc2md"><a href="#jsdoc2md" class="headerlink" title="jsdoc2md"></a>jsdoc2md</h2><p>Generates markdown API documentation from jsdoc annotated source code. Useful for injecting API docs into project README files.</p>
<p>When you document your code using valid jscode comments and run jsdoc command (e.g. <code>jsdoc2md example.js</code>), then you can get a markdown output easily.</p>
<p>At first, I just write all of jsdoc in the code and link <a href="https://github.com/Chatie/wechaty/blob/master/docs/index.md" target="_blank" rel="noopener">wechaty/docs/index.md</a> to the users, but I cannot sync <code>README.md</code> file with the code and make readme as simple as it can, so I have to do some else.</p>
<p>First, I should know how jsdoc2md works.</p>
<h3 id="How-jsdoc2md-works"><a href="#How-jsdoc2md-works" class="headerlink" title="How jsdoc2md works"></a>How jsdoc2md works</h3><p>This is the main use case (render documentation) sequence:</p>
<ol>
<li>User runs <code>jsdoc2md example.js</code>.</li>
<li><a href="https://github.com/jsdoc2md/jsdoc-api" target="_blank" rel="noopener">jsdoc-api</a> is used to obtain the raw jsdoc data for the input source code provided. (a kind of JSON output)</li>
<li>this data is transformed into something suitable for passing into a template by <a href="https://github.com/jsdoc2md/jsdoc-parse" target="_blank" rel="noopener">jsdoc-parse</a> (which also adds support for the jsdoc2md-specific tags like <code>@typicalname</code>, <code>@done</code>, <code>@category</code> etc).</li>
<li>the resulting template data is passed into <a href="https://github.com/jsdoc2md/dmd" target="_blank" rel="noopener">dmd</a>. This output is returned to the user.</li>
</ol>
<p>In order to pick function name from the full api doc, I learnt about <a href="https://github.com/jsdoc2md/dmd" target="_blank" rel="noopener">dmd</a>, it is the default output templates for <a href="https://github.com/jsdoc2md/jsdoc-to-markdown" target="_blank" rel="noopener">jsdoc-to-markdown</a>. It contains <a href="http://handlebarsjs.com/" target="_blank" rel="noopener">handlebars</a> partials and helpers intended to transform <a href="https://github.com/jsdoc2md/jsdoc-parse" target="_blank" rel="noopener">jsdoc-parse</a> output into markdown API document.</p>
<p>For the wechaty document, I change two following dmd partials:</p>
<ul>
<li>link.hbs</li>
<li>sig-link-parent.hbs</li>
</ul>
<h1 id="Wechaty-Progress-on-JsDoc-amp-amp-jsdoc2md"><a href="#Wechaty-Progress-on-JsDoc-amp-amp-jsdoc2md" class="headerlink" title="Wechaty Progress on JsDoc &amp;&amp; jsdoc2md"></a>Wechaty Progress on JsDoc &amp;&amp; jsdoc2md</h1><h2 id="Discussion-history"><a href="#Discussion-history" class="headerlink" title="Discussion history"></a>Discussion history</h2><h3 id="Related-Issue"><a href="#Related-Issue" class="headerlink" title="Related Issue"></a>Related Issue</h3><p><a href="https://github.com/zixia" target="_blank" rel="noopener">@Huan</a>, <a href="https://github.com/ax4" target="_blank" rel="noopener">@ax4</a>,<a href="https://github.com/hczhcz" target="_blank" rel="noopener">@hczhcz</a>, <a href="https://github.com/kis87988" target="_blank" rel="noopener">@William</a> and I talked a lot about wechaty document on the following issues: </p>
<ul>
<li><strong>issue73:</strong> <a href="https://github.com/chatie/wechaty/issues/73" target="_blank" rel="noopener">[doc] To Embed Document in Wechaty Code for Generating Automaticly</a>   </li>
<li><strong>issue252:</strong> <a href="https://github.com/chatie/wechaty/issues/252" target="_blank" rel="noopener">[doc] Contribute to the doc editing[ jsdoc / jsdoc2md / typedoc ]</a>    </li>
</ul>
<h3 id="Related-PR"><a href="#Related-PR" class="headerlink" title="Related PR"></a>Related PR</h3><p>Also, <a href="https://github.com/hczhcz" target="_blank" rel="noopener">@hczhcz</a> and <a href="https://github.com/ax4" target="_blank" rel="noopener">@ax4</a> and I contribute a lot on the document:  </p>
<ul>
<li><strong>PR378:</strong> <a href="https://github.com/Chatie/wechaty/issues/378" target="_blank" rel="noopener">jsdoc2md may flush some pieces of the embedded doc</a>   </li>
<li><strong>PR380:</strong> <a href="https://github.com/Chatie/wechaty/issues/380" target="_blank" rel="noopener">fix jsdoc flush issue #378 and minor fix on the doc examples</a>  </li>
<li><strong>PR640:</strong> <a href="https://github.com/Chatie/wechaty/pull/640" target="_blank" rel="noopener">add documentation TODO entries</a>    </li>
<li><strong>PR725:</strong> <a href="https://github.com/Chatie/wechaty/pull/725" target="_blank" rel="noopener">add wechaty document</a>   </li>
<li><strong>PR321:</strong> <a href="https://github.com/Chatie/wechaty/pull/321" target="_blank" rel="noopener">Add JsDoc for Class Contact</a></li>
</ul>
<h2 id="Doc-basic-line"><a href="#Doc-basic-line" class="headerlink" title="Doc basic line"></a>Doc basic line</h2><p>For the convenience of developers, our doc guideline as follows:</p>
<ol>
<li>Simple and clear</li>
<li>Generate markdown for better readable version control and GitHub page hosting.</li>
</ol>
<h2 id="Auto-doc-working-flow"><a href="#Auto-doc-working-flow" class="headerlink" title="Auto-doc working flow"></a>Auto-doc working flow</h2><ol>
<li>Develop in TypeScript</li>
<li>Embedded doc insert in TypeScript</li>
<li>Compile TypeScript into JavaScript, using <code>npm run dist</code></li>
<li>Run jsdoc / jsdoc2md, using <code>npm run doc</code></li>
<li>Get the final doc, in <a href="https://github.com/Chatie/wechaty/blob/master/docs/index.md" target="_blank" rel="noopener">index.md</a>, config it to <a href="http://chatie.io/wechaty" target="_blank" rel="noopener">chatie.io/wechaty</a></li>
</ol>
<h2 id="Wechaty-Jsdoc-file"><a href="#Wechaty-Jsdoc-file" class="headerlink" title="Wechaty Jsdoc file"></a>Wechaty Jsdoc file</h2><p>We embed doc into the following file:</p>
<ul>
<li><a href="https://github.com/Chatie/wechaty/blob/master/src/wechaty.ts" target="_blank" rel="noopener">src/wechaty.ts</a></li>
<li><a href="https://github.com/Chatie/wechaty/blob/master/src/message.ts" target="_blank" rel="noopener">src/message.ts</a></li>
<li><a href="https://github.com/Chatie/wechaty/blob/master/src/room.ts" target="_blank" rel="noopener">src/room.ts</a></li>
<li><a href="https://github.com/Chatie/wechaty/blob/master/src/contact.ts" target="_blank" rel="noopener">src/contact.ts</a></li>
<li><a href="https://github.com/Chatie/wechaty/blob/master/src/friend-request.ts" target="_blank" rel="noopener">src/friend-request.ts</a></li>
</ul>
<h2 id="Wechaty-jsdoc2md-progress"><a href="#Wechaty-jsdoc2md-progress" class="headerlink" title="Wechaty jsdoc2md progress"></a>Wechaty jsdoc2md progress</h2><h3 id="1-Generate-jsdoc2md-file"><a href="#1-Generate-jsdoc2md-file" class="headerlink" title="1. Generate jsdoc2md file"></a>1. Generate jsdoc2md file</h3><p>Using the following command can generate document easily.<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jsdoc2md dist/src/&#123;wechaty,room,contact,friend-request,message&#125;.js dist/src/puppet-web/friend-request.js&gt;&gt; docs/index.md</span><br></pre></td></tr></table></figure></p>
<h3 id="2-Use-template-to-Sync-Readme-with-api-doc"><a href="#2-Use-template-to-Sync-Readme-with-api-doc" class="headerlink" title="2. Use template to Sync Readme with api doc"></a>2. Use template to Sync Readme with api doc</h3><p>Actually, the first step is enough, but I think we need insert and sync all of the API docs into README, so I use a template by the following command:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jsdoc2md --template docs/partials/README.hbs dist/src/&#123;wechaty,room,contact,friend-request,message&#125;.js dist/src/puppet-web/friend-request.js&gt;&gt; README.md</span><br></pre></td></tr></table></figure></p>
<p>Then add the partials<br><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&#123;&#123;&gt;member-index-list~&#125;</span>&#125;</span><br><span class="line">``` </span><br><span class="line"><span class="keyword">to</span> show the API directory, because the full doc <span class="keyword">is</span> too big <span class="keyword">to</span> put <span class="keyword">in</span> README, <span class="keyword">and</span> it <span class="keyword">is</span> <span class="keyword">not</span> necessary.</span><br><span class="line"></span><br><span class="line">### <span class="number">3</span>. Linkable Code References</span><br><span class="line"></span><br><span class="line">After the second <span class="keyword">step</span>, I found the link jsdoc2md generate <span class="keyword">is</span> an anchor link(`#`), it means I cannot link it <span class="keyword">to</span> other pages(http:<span class="comment">//chatie.io/wechaty), this is very inconvenient for readers.   </span></span><br><span class="line">Inspired <span class="keyword">by</span> [[jsdoc2md-issue-<span class="number">123</span>](https:<span class="comment">//github.com/jsdoc2md/jsdoc-to-markdown/issues/123)], [@KevinAst](https://github.com/KevinAst) using jsdoc-to-markdown wrote a beatutiful doc: [astx-redux-util](https://astx-redux-util.js.org/1.0.0/).    </span></span><br><span class="line">I found maybe I can created a custom <span class="keyword">partial</span> too.   </span><br><span class="line"><span class="keyword">Then</span> I <span class="keyword">override</span> the following templates <span class="keyword">in</span> `docs/partials/overrides`, adding http:<span class="comment">//chatie.io/wechaty in the link:</span></span><br><span class="line">* link.hbs</span><br><span class="line">* sig-link-parent.hbs</span><br><span class="line"></span><br><span class="line">This <span class="keyword">is</span> the reason why I <span class="keyword">add</span> the following script <span class="keyword">in</span> `package.json` :</span><br></pre></td></tr></table></figure></p>
<p>jsdoc2md –partial docs/partials/overrides/*.hbs –template docs/partials/README.hbs dist/src/{wechaty,room,contact,friend-request,message}.js dist/src/puppet-web/friend-request.js&gt;&gt; README.md<br><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`--<span class="keyword">partial</span>` command <span class="keyword">override</span> `link.hbs` <span class="keyword">and</span> `sig-link-parent.hbs`</span><br><span class="line"></span><br><span class="line"><span class="keyword">Then</span>, all done!</span><br><span class="line"></span><br><span class="line"># <span class="keyword">To</span> Contributor: How <span class="keyword">to</span> <span class="keyword">add</span> jsdoc when contributing</span><br><span class="line"></span><br><span class="line"><span class="keyword">For</span> other developers, I tried my best <span class="keyword">to</span> make it easier <span class="keyword">to</span> <span class="keyword">add</span> doc, just the following <span class="number">2</span> steps:</span><br><span class="line">### <span class="number">1</span>. <span class="keyword">Add</span> jsdoc <span class="keyword">in</span> your code like the following shows.</span><br></pre></td></tr></table></figure></p>
<p>/*<em> This is a description of the foo function. </em>/<br>function foo() {<br>}<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">### <span class="number">2.</span> Run the following command</span><br></pre></td></tr></table></figure></p>
<p>npm run doc<br><code>`</code></p>
<p>Then you can find the generated jsdoc here: <a href="https://github.com/Chatie/wechaty/blob/master/docs/index.md" target="_blank" rel="noopener">wechaty/docs/index.md</a></p>
<p>Cheers!</p>

        </div>
        <div class="post-tool">
            <a class="btn-thumbs-up" href="javascript:void(0);" data-cid="52" title="95">
                <i class="fa fa-thumbs-up" aria-hidden="true"></i> 打赏
            </a>
        </div>
        
        <div class="post-tags">标签：
            
            <a href="/tags/wechaty/">wechaty</a>
            
            <a href="/tags/技术探索/">技术探索</a>
            
        </div>
        
    </article>
    
    <p>本文代表个人观点，内容仅供参考。若有不恰当之处，望不吝赐教！</p>
    
    
<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    var disqus_config = function () {
        this.page.url = 'http://lijiarui.github.io/tech/2017-09-20-add-wechaty-jsdoc.html';
        this.page.identifier = 'tech/2017-09-20-add-wechaty-jsdoc.html';
    };
    (function () { // DON'T EDIT BELOW THIS LINE
        var d = document, disqus_shortname = 'lijiarui', s = d.createElement('script');
        s.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by
        Disqus.</a></noscript>

</div>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        </div><!-- end #main-->
    </div><!-- end #body -->
    <footer class="footer">
    <div class="footer-inner">
        <p>
            <a href="/about" title="关于本站">关于本站</a>&nbsp;&nbsp<em>·</em>&nbsp;&nbsp
            <!-- 自定义链接 -->
            <a href="/help" title="help">急救中心</a>&nbsp;&nbsp<em>·</em>&nbsp;&nbsp
            <a href="/links" title="友情链接">友情链接</a>&nbsp;&nbsp<em>·</em>&nbsp;&nbsp
            <a href="/app" title="App下载">App下载</a>
        </p>
        <p>
            本站点采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>，已建立<a href="/timeline" id="siteBuildingTime"></a>天<br>
            ©2017 基于<a href="http://hexo.io" target="_blank">Hexo</a>搭建
            ，主题&nbsp<a href="https://github.com/tangkunyin/hexo-theme-jsimple" target="_blank">JSimple</a>
            ，作者<a href="https://www.tangkunyin.com" target="_blank">唐先森</a>
            ，Hosted by <a href="https://pages.coding.me" style="font-weight: bold">Coding Pages</a>
        </p>
        <!--  -->
<!-- Tencent Analytics -->
<!-- <script type="text/javascript" src="//tajs.qq.com/stats?sId=65330142" charset="UTF-8"></script> -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114589636-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-114589636-1');
</script>

<!--  -->

    </div>
</footer>
<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
<script src="/js/InsightSearch.js"></script>
<script src="/js/SimpleCore.js"></script>

</div>
<div class="fixed-btn">
    <a class="btn-gotop" href="javascript:"> <i class="fa fa-angle-up"></i></a>
</div>
<script>
    $(function () {
        SimpleCore.init({
            buildingTime: '01/20/2018',
            current: $('.post-tags').length > 0 ? 'post' : 'archive',
            snsQRCode: '/images/sns-qrcode.png',
            donateImg: '/images/donate-qr.png',
        });
    });
</script>
</body>
</html>
