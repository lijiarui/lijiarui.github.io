---
title: 连载 | 3.5 抽取对话流程
author: 李佳芮
avatar: /images/avatar.jpg
authorLink: 'https://rui.juzi.bot'
authorAbout: 'https://www.botorange.com'
authorDesc: 一个现实的理想主义者
categories: chatbot
date: 2018-10-24 10:15:57
tags: 
  - UNIT
  - chatbot
  - 百度
keywords:
description: 本章我来教大家如何进行流程图的绘制
photos:
  - /img/2018/unit-cover.jpg
---

欢迎大家来学习第三章的第五节，抽取对话流程。

如何抽取对话流程？简单来说就是进行流程图的绘制。

![image](/img/2018/unit-3-5-1.jpeg)
首先，绘制基础业务流程图。

业务流程图描述的是完整的业务流程，以业务处理过程为中心，一般没有数据的概念。流程图以动作来推动业务进行，流程图更加关注的是业务实现具体要进行哪些操作，每一个动作构成的基本形式都是动词加名词，或者动词。例如支付界面，订票结果反馈，都是以动作为驱动的。

如下图左侧的流程图，可以看到这是一个订票业务的基本流程，从顶端订票开始；然后航班查询、乘客信息收集流程、支付界面、订票结果反馈、订票流程结束。其中每一个步骤，都可以将其进一步细化，右侧的图就是细化航班查询选择流程后的结果。补充了收集用户提供的查询信息、查找并展示查询结果、用户选择航班等过程。

左侧的流程图可以看出业务的基础脉络，具体的细节可以将左侧图的部分步骤拆解并细化。航班查询选择流程开始（长方形代表流程/步骤），然后机票查询信息收集流程（长方形和三角形的组合图形代表跨页引用），然后看是否有查询结果（菱形代表判定），如果有结果——展示查询结果，接着再跳到下一步——查询结果选择流程，然后航班查询选择流程结束。如果没有结果，对用户提示无结果，请求用户再提供其它槽值，如果提供，重复以上流程，如果没有提供，进入用户意图分析流程，即判定用户是不是有其它意图，而不是订机票。

其次，还需要绘制跨职能流程图，也叫泳道图，是流程图的进阶。

泳道图加入了泳道，表示不同的角色或岗位和部门等，在了解业务流程的时候，也清楚由谁执行该动作。

![image](/img/2018/unit-3-5-2.jpeg)

如上图，每一个动作都放在相应的模块下，对应了执行此动作的人或系统。这样对于业务流程中的不同角色的职责，也会有更加明确的认知。

首先，用户这边发起了订票请求，查询条件。之后机器人桔小秘，获取查询条件，然后通过票务接口查询航班信息，每一步的操作都会反馈查询结果供用户选择。用户选择航班后，机器人再去收集乘客信息，到票务接口生成订单，之后到用户这里进行付款，然后再到票务接口生成航班信息，再到机器人展示已预定的航班信息，最后流程结束。

相比业务流程图，跨职能流程图对业务的描述更加清晰。并且可以在旁边补充流程描述，例如，如上的流程，描述为如下：

1. 用户发起订票请求并提供机票相关的查询信息，机器人收集查询信息后，检查必要查询条件是否充足。如航班号或出发或到达地点及日期；

2. 必要查询条件不足则继续询问用户，若必要查询条件充足则向票务接口发起航班查询请求；

3. 如果没有查询结果，机器人向用户反馈情况后，询问其它查询条件。如果有查询结果，机器人将结果展示给用户。”

4. 用户选择航班以后机器人向用户收集乘客信息，并提供票务接口以生成订单。

5. 用户付款后，机器人向用户展示最终的结果。

右侧的流程描述，把中间的每一个细节描述的很清楚，再加上左侧清晰的跨职能流程图，即使整个流程相对比较复杂，在给不同部门讲述时，也能够一目了然。

最后，进行业务线合并汇总。

例如，即使只是商旅这样相对比较封闭的场景，它依然会有很多业务线。可能有机票、酒店、火车票、订美食、订餐或者订车等等。需要把合并这些业务并梳理相关的意图、词槽和对话样本集，通过如下的树状图能够清晰明了的把业务流程梳理出来。

![image](/img/2018/unit-3-5-3.jpeg)

在此，给读者介绍两个工具，可以更好的去画流程图，这两个工具都是在线的，可以进行实时协作。

![image](/img/2018/unit-3-5-4.jpeg)

一个是ProcessOn，支持流程图、思维导图、原型图、网络拓补图等。

另一个是百度脑图，可以很快的把脑图画出来，非常的清晰。并且不需要在自己的电脑上安装任何的软件，只要在浏览器上就可以完成。

以上就是这节课的内容，我们下次再见，谢谢大家！